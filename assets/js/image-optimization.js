!function(){"use strict";window.imageErrorHandler=function(e){console.log("Error loading image:",e.src),e.parentNode&&(e.style.visibility="hidden")};const e=document.querySelector(".home-slider .carousel-box:first-child img");if(e&&e.src){const t=document.createElement("link");t.rel="preload",t.as="image",t.href=e.src,t.crossorigin="anonymous",document.head.appendChild(t)}if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=n.dataset.src,n.classList.remove("lazyload"),n.classList.add("lazyloaded"),n.style.opacity="0",n.onload=function(){n.style.transition="opacity 0.3s ease-in-out",n.style.opacity="1"},t.unobserve(n))}})},{rootMargin:"50px 0px",threshold:.01});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("img[data-src]").forEach(t=>{t.src||(t.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2Y4ZjlmYSIvPjx0ZXh0IHg9IjUwIiB5PSI1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjYWFhIj5JbWFnZW48L3RleHQ+PC9zdmc+"),e.observe(t)})})}if("connection"in navigator){const e=navigator.connection;!e||"slow-2g"!==e.effectiveType&&"2g"!==e.effectiveType||document.querySelectorAll("img[data-src]").forEach(e=>{e.dataset.src&&e.dataset.src.includes("?")?e.dataset.src+="&quality=60":e.dataset.src&&(e.dataset.src+="?quality=60")})}function t(){document.querySelectorAll("img").forEach(e=>{const t=e.getBoundingClientRect();t.width>0&&t.height>0&&(window.innerWidth<=768?e.setAttribute("sizes","(max-width: 768px) 100vw, 50vw"):e.setAttribute("sizes","(max-width: 1200px) 50vw, 25vw"))})}let n;document.addEventListener("DOMContentLoaded",t),window.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(t,250)}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".home-slider img, .flash-deals img:first-child").forEach((e,t)=>{if(t<3&&e.dataset.src){const t=new Image;t.onload=function(){e.src=e.dataset.src,e.classList.remove("lazyload"),e.classList.add("lazyloaded")},t.src=e.dataset.src}})})}();